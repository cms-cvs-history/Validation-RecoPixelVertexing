process VAL-VTX-RECO = {

  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = PoolSource {
    untracked vstring fileNames = {"/store/unmerged/RelVal/2006/8/13/RelVal09010Muons1-10/GEN-SIM-DIGI-RECO/0005/EC233E68-1E2B-DB11-8406-0002B3D8E6A4.root"}
    untracked int32 maxEvents = -1
  }

  include "RecoPixelVertexing/PixelTrackFitting/data/PixelTracks.cff"
  include "RecoPixelVertexing/PixelVertexFinding/data/PixelVertexes.cff"

  module trackVal = PixelTrackVal {
    string TrackCollection = "pixelTracks"
    InputTag simG4 = g4SimHits
    untracked string  HistoFile = "pixelTrackHistos_Val.root"
    untracked uint32 Verbosity = 1
  }

  module vertexVal = PixelVertexVal {
    string TrackCollection = "pixelTracks"
    string VertexCollection = "pixelVertices"
    InputTag simG4 = g4SimHits
    untracked string HistoFile = "pixelVertexHistos_Val.root"
    untracked uint32 Verbosity = 1
  }

  module out = PoolOutputModule
  {
    untracked string fileName = "validation.root"
    // uncomment if reco data must be stored
#    untracked vstring outputCommands =
#    {
#       "drop *"
#    }
  }

  path p = {pixelTracks, pixelVertices, trackVal, vertexVal}
  endpath e = { out }
}

